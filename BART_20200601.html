<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>氣球模擬風險測驗</title>

	<style type="text/css">
		@import url(BART_css.css);
	</style>

	<script type="text/javascript">

		var blowPlus_var = 0;
		var total_var = 0;
		var random_score = 0;

		//random產生每次的充氣上限值
		function randomExplosion(){
			random_score = Math.floor(Math.random()*10)+1; //回傳1~10

		}

		//顯示當次random值
		function showRandomNum(){
			document.getElementById("random_text").value = random_score;

		}

		//button_充氣 被按下時，blowPlus_var值+1，當 按下次數 == 充氣上限值 則顯示提示
		function blowPlus(){	
			blowPlus_var = blowPlus_var + 1;
			document.getElementById("current_score").value = blowPlus_var;
			
			total_var = blowPlus_var;
	
			if(blowPlus_var == random_score){
				document.getElementById("alert").innerHTML = "你的氣球已經炸了!!";
				alert("BOOM!!")
			}
		}

		//button_結算 被按下時，顯示當前得分
		function totalSum(){
			document.getElementById("total_score").value = total_var;
			alert("你得到總分為 " + total_var + " 分!!")
			document.getElementById("alert").innerHTML = "你的總分: " + total_var;
		}

	</script>


</head>

<body onload="randomExplosion(), showRandomNum()"> <!-- bgcolor="#000000"; -->

	<!-- 氣球 -->
	<div id="canvas-wrapper">
		<canvas id="canvas" width="500" height="500">
			Sorry! Your browser doesn't support the canvas element.
		</canvas>
		<script type="text/javascript" src="script/color-0.1.3.min.js"></script>
		<script type="text/javascript" src="script/canvas-balloon.js"></script>
	</div>
	
	<!-- 按鈕: 結算/充氣 -->
	<div>
		<input type="button" id="sum" value="結算" style="margin:50px;width:120px;height:40px;font-size:20px;" onclick="totalSum()">
		<input type="button" id="blow" value="充氣" style="margin:50px;width:120px;height:40px;font-size:20px;" onclick="blowPlus()">
	</div>
	
	<!-- 得分/總分 -->
	<div style="position: relative;">
		<!--
		<lebel type="text" id="font" name="font1" value="測驗總分:" readonly="readonly">
		<input type="text" id="font" name="font2" value="目前得分:" readonly="readonly">
		-->
		<label id="recent_score_label">目前得分:</label>
		<input type="text" name="RecentScore" readonly="readonly" id="current_score">
		<label id="total_score_label">測驗總分:</label>
		<input type="text" name="TotalScore" readonly="readonly" id="total_score">
	</div>

	<!-- 顯示當前random上限 -->
	<label id="randomExplosion_label">本次隨機數字</label>
	<input type="text" name="randomExplosion_text" readonly="readonly" id="random_text">

	<!-- Alert訊息 -->
	<p id="alert_p">Alert:</p>
	<p id="alert"></p>

</body>
</html>